# 数据科学实习生培训项目描述

## 培训目标
- 提升实习生的数据处理和分析能力  
- 加深对机器学习算法和统计学原理的理解  
- 增强实习生的编程技能，特别是在 **Python** 上  
- 培养实习生解决实际问题的能力，以及总结和项目汇报能力  

---

## 培训内容与阶段安排

### 第 1 周：数据分析及特征构建
数据集：[Kaggle - Demand Forecasting](https://www.kaggle.com/datasets/aswathrao/demand-forecasting)（回归任务）

- **数据清洗与预处理**  
  - 缺失值处理、异常值检测和数据转换  
  - 理解数据清洗的重要性和常见方法  

- **初步数据分析**  
  - 进行探索性数据分析（EDA）  
  - 学习如何总结与可视化数据  

- **回归任务的特征构建**  
  - 特征工程实践  
- 处理大规模数据集，学习 **SQL** 与大数据技术（含 Leetcode 练习）  

---

### 第 2-3 周：机器学习模型构建
- 应用机器学习算法解决 **分类、回归** 等问题  
- 理解不同算法的原理与应用场景（如 **XGBoost、LightGBM**）  
- 进行结果可视化分析，挖掘数据洞察  
- 模型优化：参数调优、模型融合  

---

### Final Week：结果展示与沟通能力
- 每周讨论前记录进展  
- 项目完成后制作 **完整 PPT**  
- 进行约 **40 分钟的项目汇报 Presentation**  

---

## 相关知识提升
- 行业知识：金融、互联网、制造业  
- 职业规划与面试准备  
- 软技能培训（沟通、展示等）  
- 数据科学英文文献阅读与总结  

---

# Project Log
| 日期       | 工作内容 |
| ---------- | -------- |
| 2025-08-17 | 数据加载、EDA |
||异常值检测与清晰、数据预处理 |
|| 特征工程（价格 & 促销特征） |
|| 时间序列划分 |

---

## 2025-08-10
### 1. 数据处理阶段
#### 1.1 数据加载
- 成功加载训练数据和测试数据
- **训练数据**：包含 9 个字段  
  `record_ID, week, store_id, sku_id, total_price, base_price, is_featured_sku, is_display_sku, units_sold`  
- **测试数据**：包含 8 个字段（缺少 `units_sold` 作为预测目标）

#### 1.2 探索性数据分析 (EDA)
- **数据质量检查**：
  - 训练数据中发现 1 个 `total_price` 缺失值  
  - 无重复记录  
- **时间范围分析**：
  - 训练数据时间跨度：2001-01-13 至 2031-10-11  
  - 测试数据时间跨度：2001-10-13 至 2030-07-13  
- **目标变量分析**：
  - `units_sold` 范围：1–2876  
  - 平均值：51.67，标准差：60.21  
  - 发现存在离群值（占 7.13%）

#### 1.3 离群值检测与清理
- 使用 **IQR 方法** 识别销量离群值  
- 销量上下界：-43.00 ~ 125.00  
- 共检测到 **10,706 个销量离群值**（占 7.13%）  
- 价格变量也存在离群值：  
  - `total_price` 占 8.01%  
  - `base_price` 占 11.40%

#### 1.4 数据预处理
- 缺失值处理：用 `base_price` 填充唯一的 `total_price` 缺失值  
- 数据类型优化：通过类型转换减少内存占用 **47.2%**  
- 去重处理：确认无重复记录

#### 1.5 特征工程
创建了三类新特征：  

1. **时间特征**  
   - `year, month, day_of_week, day_of_month, quarter`  
   - `is_weekend`（是否周末）  

2. **价格特征**  
   - `price_discount = base_price - total_price`  
   - `discount_ratio`（折扣比例）  
   - `log_total_price, log_base_price`（对数变换）  
   - `price_ratio`（价格比率）  

3. **促销特征**  
   - `is_promoted = is_featured_sku OR is_display_sku`  
   - `promotion_intensity = is_featured_sku + is_display_sku`

#### 1.6 数据分割与验证
- 按时间顺序划分训练集 (80%) 和验证集 (20%)  
- **训练期**：2001-01-13 至 2025-07-11  
- **验证期**：2025-09-12 至 2031-10-11  

---

### 2. 关键发现
- 销量分布呈 **长尾分布**，大部分商品销量较低  
- 促销活动 (`is_featured_sku, is_display_sku`) 对销量有显著影响  
- **价格与销量负相关**  
- **周末销量更高**  
- 数据集时间跨度长达 **30 年**，需注意时间序列特性

---

### 4. 输出结果
- 生成 **预处理后的训练集**：150,150 条记录，22 个特征  
- 生成 **预处理后的测试集**：13,860 条记录，21 个特征  
- 所有处理后数据已保存至 `archive` 文件夹  

## 2025-08-22
### 问题
1. 问题定义：预测的对象具体是如何定义的
- 预测对象为`units_sold`
  - 数据来源：`unists_sold`是训练数据集中的目标变量，表示每个商品记录的实际销售数量
  - 数据特征：呈长尾分布，大部分商品销量较低
  - 业务含义：表示商品在特定时间、特定门店、特定商品被销售数量，是需求预测的核心指标
  - 预测目标：基于历史销售数据、价格信息、促销活动、时间特征等，预测未来某个时间段内各商品的销售数量
1. 特征工程没有包含销量类特征
- 当前特征工程主要包括：
  - 时间特征：年、月、日、星期、季度、是否周末等
  - 价格特征：折扣金额、折扣比例、对数变换等
  - 促销特征：是否特色商品、是否展示商品、促销强度等
- 缺失的销量类特征：
  - 历史销量统计：过去N天/周的平均销量、最大销量、最小销量
  - 销量趋势：销量的增长率、变化趋势
  - 滞后特征：前一周、前一月的销量数据
  - 滚动窗口统计：滚动平均、标准差等
  - 商品/店铺历史表现：特定商品或店铺的历史平均销量
1. 最终结果的衡量标准应该使用mape更直观衡量预测与真实得差异
- MAPE 用来衡量预测值相对真实值的偏差：
$$
MAPE = \frac{100\%}{n} \sum_{i=1}^{n} \left| \frac{y_i - \hat{y}_i}{y_i} \right|
$$
- MAPE的优势：
  1. 直观性：以百分比形式表示，易于业务人员理解
  2. 标准化：无单位依赖，便于跨不同商品比较
  3. 业务相关性：直接反映预测偏差的相对大小